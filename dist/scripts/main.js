!function t(e,n,r){function a(i,d){if(!n[i]){if(!e[i]){var l="function"==typeof require&&require;if(!d&&l)return l(i,!0);if(o)return o(i,!0);var s=new Error("Cannot find module '"+i+"'");throw s.code="MODULE_NOT_FOUND",s}var h=n[i]={exports:{}};e[i][0].call(h.exports,function(t){var n=e[i][1][t];return a(n?n:t)},h,h.exports,t,e,n,r)}return n[i].exports}for(var o="function"==typeof require&&require,i=0;i<r.length;i++)a(r[i]);return a}({1:[function(t,e,n){function r(t){t=t||window.event,"32"==t.keyCode?(console.log("new individual."),l.clearScene(),l.show(h)):"82"==t.keyCode&&console.log("new procedure.")}var a=(t("./plant/PlantMaker"),t("./plant/TestMaker")),o=t("./plant/PlantViewer"),i=t("./plant/GraphViewer"),d=new a,l=new o(document.getElementById("screen")),s=new i,h=d.makePlant(),c={loc_start:[0,0,0],loc_end:[0,0,0],theta:45,phi:90,len:10,rad:1,axis:new THREE.Vector3(0,1,0),count:3};h.setStartCtx(c),l.show(h),l.animate(),s.show(h),document.onkeydown=r},{"./plant/GraphViewer":2,"./plant/PlantMaker":5,"./plant/PlantViewer":6,"./plant/TestMaker":7}],2:[function(t,e,n){function r(){this.chart_config={}}r.prototype={show:function(t){var e={container:"#graph"},n={text:{name:t.root.title1,title:t.root.title2}};this.chart_config=[e,n],t.root.children.length>0&&this.addNode(n,t.root.children[0]),console.log(this.chart_config),this.t=new Treant(this.chart_config)},clearGraph:function(){},addNode:function(t,e){var n={parent:t,text:{name:e.title1,title:e.title2}};this.chart_config.push(n);for(var r=0;r<e.children.length;r++)this.addNode(n,e.children[r])}},e.exports=r},{}],3:[function(t,e,n){function r(){}r.prototype={randomInt:function(t,e){return Math.floor(Math.random()*(e-t))+t+0},randomIntAC:function(t,e,n,r){var a=t-e>n?t-e:n,o=t+e>r?r:t+e;return this.randomInt(a,o)},randomFloat:function(t,e){return Math.random()*(e-t)+t},randomFloatAC:function(t,e,n,r){var a=t-e>n?t-e:n,o=t+e>r?r:t+e;return this.randomFloat(a,o)}},e.exports=r},{}],4:[function(t,e,n){function r(){this.root=[]}r.prototype={getMesh:function(t){return start_ctx={loc_start:[0,0,0],loc_end:[0,0,0],theta:45,phi:90,len:10,rad:1,axis:new THREE.Vector3(0,1,0),count:3},this.root.parse(this.ctx,t)},setStartCtx:function(t){this.ctx=t}},e.exports=r},{}],5:[function(t,e,n){function r(){}var a=t("./Plant"),o=t("./elements/PELine"),i=(t("./elements/PEPlane"),t("./elements/PNSymmetric")),d=t("./elements/PNBranch"),l=t("./elements/PNTerminal"),s=t("./PMath"),h=new s,c=5,m=1,p=5;r.prototype={makePlant:function(){var t=new a;return t.root=this.randomNode(),this.addElements(t.root,c),t},addElements:function(t,e){switch(t.type){case"n":this.addE_Edges(t,e);break;case"e":this.addE_Node(t,e);break;case"s":this.addE_SingleEdge(t,e);break;case"t":}},addE_Edges:function(t,e){if(e>0){var n=h.randomInt(m,p);t.size=n;for(var r=0;n>r;r++)t.children[r]=this.randomEdge();for(var r=0;r<t.size;r++)this.addElements(t.children[r],e-1)}},addE_SingleEdge:function(t,e){e>0&&(t.children[0]=this.randomEdge(),t.size++,this.addElements(t.children[0],e-1))},addE_Node:function(t,e){if(0>=e){var n=new l;n.prm={rad_delta:h.randomInt(2,5)},t.children[0]=n}else t.children[0]=this.randomNode();this.addElements(t.children[0],e-1)},randomEdge:function(){var t=new o;return t.prm={delta_theta:h.randomInt(5,120),delta_phi:h.randomInt(5,250),delta_len:h.randomInt(5,100),delta_rad:h.randomInt(5,10)},t},randomNode:function(){var t;switch(h.randomInt(0,6)){case 0:t=new i,t.prm={rad_delta:h.randomInt(2,5),dx:h.randomFloat(0,1),dy:h.randomFloat(0,1),dz:h.randomFloat(0,1),count_delta:h.randomInt(0,3)};break;case 1:t=new l,t.prm={rad_delta:h.randomInt(2,5)};break;default:var t=new d;t.prm={count_delta:h.randomInt(0,4),rad_delta:h.randomInt(2,15)}}return t}},e.exports=r},{"./PMath":3,"./Plant":4,"./elements/PELine":8,"./elements/PEPlane":9,"./elements/PNBranch":10,"./elements/PNSymmetric":11,"./elements/PNTerminal":12}],6:[function(t,e,n){},{}],7:[function(t,e,n){function r(){}var a=t("./Plant"),o=t("./elements/PELine"),i=(t("./elements/PEPlane"),t("./elements/PNSymmetric")),d=t("./elements/PNBranch"),l=t("./elements/PNTerminal"),s=t("./PMath"),h=new s;r.prototype={makePlant:function(){var t=new a,e={rad_delta:h.randomInt(2,5),dx:h.randomFloat(0,1),dy:h.randomFloat(0,1),dz:h.randomFloat(0,1),count_delta:h.randomInt(0,3)};t.root=new d,t.root.prm=e;var n=this.randomEdge(),r=new i;r.prm=e;var o=this.randomEdge(),s=new d;s.prm=e;var c,m,p,u=3;for(p=0;u>p;p++)c=this.randomEdge(),m=new l,c.children[0]=m,s.children[p]=c,s.size++;return o.children[0]=s,r.children[0]=o,r.size++,n.children[0]=r,t.root.children[0]=n,t.root.size++,console.log(t),t},randomEdge:function(){var t=new o;return t.prm={delta_theta:h.randomInt(5,120),delta_phi:h.randomInt(5,250),delta_len:h.randomInt(5,100),delta_rad:h.randomInt(5,10)},t}},e.exports=r},{"./PMath":3,"./Plant":4,"./elements/PELine":8,"./elements/PEPlane":9,"./elements/PNBranch":10,"./elements/PNSymmetric":11,"./elements/PNTerminal":12}],8:[function(t,e,n){function r(){this.type="e",this.title1="Line",this.title2="Edge",this.children=[],this.ctx={loc_start:0,loc_end:0,theta:0,phi:0,len:0,rad:0},this.prm={delta_theta:0,delta_phi:0,delta_len:0,delta_rad:0}}function a(t,e,n){var r,a,o,i=n[0]*Math.PI/180,d=n[1]*Math.PI/180;return o=e*Math.sin(i)*Math.cos(d),r=e*Math.sin(d),a=e*Math.sin(i)*Math.sin(d),[t[0]+r,t[1]+a,t[2]+o]}function o(t,e,n,r){var a=new THREE.Vector3(t[0],t[1],t[2]),o=new THREE.Vector3(e[0],e[1],e[2]),i=a.distanceTo(o),d=new THREE.CylinderGeometry(n,n,i);d.applyMatrix((new THREE.Matrix4).makeTranslation(0,i/2,0)),d.applyMatrix((new THREE.Matrix4).makeRotationX(Math.PI/2));var l=new THREE.Mesh(d,r);return l.position.set(a.x,a.y,a.z),l.lookAt(o),l}var i=t("../PMath"),d=new i;r.prototype={parse:function(t,e){t.loc_start=t.loc_end,t.theta=d.randomIntAC(t.theta,this.prm.delta_theta,1,159),t.phi=d.randomIntAC(t.phi,this.prm.delta_phi,1,355),t.len=d.randomIntAC(t.len,this.prm.delta_len,20,80),t.rad=d.randomIntAC(t.rad,this.prm.delta_phi,5,15),t.loc_end=a(t.loc_start,t.len,[t.theta,t.phi]);var n=o(t.loc_start,t.loc_end,t.rad,e),r=this.children[0].parse(t,e),i=new THREE.Geometry;return n.updateMatrix(),i.merge(n.geometry,n.matrix),r.updateMatrix(),i.merge(r.geometry,r.matrix),new THREE.Mesh(i,e)}},e.exports=r},{"../PMath":3}],9:[function(t,e,n){},{}],10:[function(t,e,n){function r(){this.type="n",this.title1="Branch",this.title2="Node",this.size=0,this.children=[],this.ctx={rad:5,count:0},this.prm={rad_delta:0}}var a=t("../PMath");new a;r.prototype={parse:function(t,e){var n=t.rad,r=new THREE.Mesh(new THREE.SphereGeometry(n,20,10),e);r.position.set(t.loc_end[0],t.loc_end[1],t.loc_end[2]),t.loc_start=t.loc_end;var a,o=new THREE.Geometry;for(a=0;a<this.size;a++){var i=$.extend(!0,{},t),d=this.children[a].parse(i,e);d.updateMatrix(),o.merge(d.geometry,d.matrix)}return r.updateMatrix(),o.merge(r.geometry,r.matrix),new THREE.Mesh(o,e)}},e.exports=r},{"../PMath":3}],11:[function(t,e,n){function r(){this.type="s",this.title1="Symmetric",this.title2="Node",this.size=0,this.children=[],this.ctx={rad:5,count:0,axis:[]},this.prm={rad_delta:0,dx:1,dy:1,dz:1,count_delta:0}}function a(t,e,n){var r=new THREE.Matrix4;r.makeRotationAxis(e.normalize(),n),t.matrix.multiply(r),t.rotation.setFromRotationMatrix(t.matrix)}var o=t("../PMath");new o;r.prototype={parse:function(t,e){var n=t.rad,r=new THREE.Mesh(new THREE.SphereGeometry(n,20,10),e);if(r.position.set(t.loc_end[0],t.loc_end[1],t.loc_end[2]),t.loc_start=t.loc_end,this.size>0){t.axis=this.updateAxis(t.axis);var o=this.children[0].parse(t,e),i=new THREE.Geometry;i.merge(o.geometry,o.matrix);var d,l=2*Math.PI/(t.count+0);for(d=l;d<=2*Math.PI;d+=l){var s=o.clone();a(s,r.position.add(t.axis),d),s.updateMatrix(),i.merge(s.geometry,s.matrix)}return r.updateMatrix(),i.merge(r.geometry,r.matrix),new THREE.Mesh(i,e)}return r},updateAxis:function(t){return t}},e.exports=r},{"../PMath":3}],12:[function(t,e,n){function r(){this.type="t",this.title1="Terminal",this.title2="Node",this.size=0,this.children=[]}var a=t("../PMath");new a;r.prototype={parse:function(t,e){var n=t.rad,r=new THREE.Mesh(new THREE.SphereGeometry(n,20,10),e);return r.position.set(t.loc_end[0],t.loc_end[1],t.loc_end[2]),r.updateMatrix(),r}},e.exports=r},{"../PMath":3}]},{},[1]);